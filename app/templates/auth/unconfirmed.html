{% extends "base_confluence.html" %}

{% block title %}Confirm Your Account - Enterprise Wiki{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/confluence.css') }}">
{% endblock %}

{% block content %}
<div class="confluence-container">
    <div class="confluence-content">
        <div class="unconfirmed-container">
            <div class="unconfirmed-header">
                <div class="unconfirmed-icon">
                    <i class="fas fa-envelope"></i>
                </div>
                <div class="unconfirmed-title">
                    <h1>Account Confirmation Required</h1>
                    <p>Please confirm your email address to activate your account</p>
                </div>
            </div>

            <div class="unconfirmed-message">
                <div class="message-icon">
                    <i class="fas fa-info-circle"></i>
                </div>
                <div class="message-content">
                    <h3>Check Your Email</h3>
                    <p>We've sent a confirmation email to <strong data-email>{{ current_user.email }}</strong>.</p>
                    <p>Please check your inbox and click the confirmation link to activate your account.</p>
                </div>
            </div>

            <div class="unconfirmed-help">
                <h3><i class="fas fa-question-circle me-2"></i>Didn't receive the email?</h3>
                <ul>
                    <li>Check your spam or junk folder</li>
                    <li>Make sure the email address is correct</li>
                    <li>Wait a few minutes for delivery</li>
                </ul>
            </div>

            <div class="unconfirmed-actions">
                <form method="POST" action="{{ url_for('auth.resend_confirmation') }}" class="resend-form">
                    {{ form.hidden_tag() }}
                    <button type="submit" class="confluence-btn confluence-btn-primary resend-btn" name="{{ form.submit.name }}" value="{{ form.submit.label.text }}">
                        <i class="fas fa-redo"></i>
                        {{ form.submit.label.text }}
                    </button>
                </form>

                <a href="{{ url_for('auth.logout') }}" class="confluence-btn confluence-btn-outline">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </a>
            </div>

            <div class="unconfirmed-status">
                <div class="status-item">
                    <div class="status-label">
                        <i class="fas fa-user"></i>
                        <span>Username:</span>
                    </div>
                    <div class="status-value">{{ current_user.username }}</div>
                </div>

                <div class="status-item">
                    <div class="status-label">
                        <i class="fas fa-envelope"></i>
                        <span>Email:</span>
                    </div>
                    <div class="status-value" data-email>{{ current_user.email }}</div>
                </div>

                <div class="status-item">
                    <div class="status-label">
                        <i class="fas fa-calendar"></i>
                        <span>Member Since:</span>
                    </div>
                    <div class="status-value">{{ current_user.member_since.strftime('%Y-%m-%d') }}</div>
                </div>

                <div class="status-item">
                    <div class="status-label">
                        <i class="fas fa-shield-alt"></i>
                        <span>Account Status:</span>
                    </div>
                    <div class="status-value">
                        <span class="status-badge status-pending">Pending Confirmation</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/unconfirmed.js') }}"></script>
{% endblock %}